<testsuites id="" name="" tests="5" failures="2" skipped="0" errors="0" time="106.088401">
<testsuite name="global.setup.js" timestamp="2025-06-18T01:39:38.345Z" hostname="setup" tests="5" failures="2" skipped="0" time="47.779" errors="0">
<testcase name="authenticate admin" classname="global.setup.js" time="44.841">
<failure message="global.setup.js:13:6 authenticate admin" type="FAILURE">
<![CDATA[  [setup] › global.setup.js:13:6 › authenticate admin ──────────────────────────────────────────────

    TimeoutError: page.fill: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[name="firstname"]')


      27 |     
      28 |     // Preenche o formulário de criação do primeiro admin
    > 29 |     await page.fill('[name="firstname"]', process.env.ADMIN_FIRSTNAME || 'Admin');
         |                ^
      30 |     await page.fill('[name="lastname"]', process.env.ADMIN_LASTNAME || 'Test');
      31 |     await page.fill('[name="email"]', process.env.ADMIN_EMAIL || 'admin@test.com');
      32 |     await page.fill('[name="password"]', process.env.ADMIN_PASSWORD || 'Test123456!');
        at C:\Users\Jhayne\OneDrive\Área de Trabalho\devopsex\N3Devops\devops-unisatc-a3\tests\global.setup.js:29:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results\global.setup.js-authenticate-admin-setup\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    test-results\global.setup.js-authenticate-admin-setup\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\global.setup.js-authenticate-admin-setup\error-context.md

    attachment #4: trace (application/zip) ─────────────────────────────────────────────────────────
    test-results\global.setup.js-authenticate-admin-setup\trace.zip
    Usage:

        npx playwright show-trace test-results\global.setup.js-authenticate-admin-setup\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────

    Retry #1 ───────────────────────────────────────────────────────────────────────────────────────

    Error: page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:1337/admin/auth/login
    Call log:
      - navigating to "http://localhost:1337/admin/auth/login", waiting until "load"


      15 |   
      16 |   // Navega para a página de login do admin
    > 17 |   await page.goto('/admin/auth/login');
         |              ^
      18 |   
      19 |   // Aguarda a página carregar completamente
      20 |   await page.waitForLoadState('networkidle');
        at C:\Users\Jhayne\OneDrive\Área de Trabalho\devopsex\N3Devops\devops-unisatc-a3\tests\global.setup.js:17:14

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results\global.setup.js-authenticate-admin-setup-retry1\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    test-results\global.setup.js-authenticate-admin-setup-retry1\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\global.setup.js-authenticate-admin-setup-retry1\error-context.md

    attachment #4: trace (application/zip) ─────────────────────────────────────────────────────────
    test-results\global.setup.js-authenticate-admin-setup-retry1\trace.zip
    Usage:

        npx playwright show-trace test-results\global.setup.js-authenticate-admin-setup-retry1\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[🔧 Configurando autenticação de administrador...
📝 Criando primeiro administrador...

[[ATTACHMENT|global.setup.js-authenticate-admin-setup\test-failed-1.png]]

[[ATTACHMENT|global.setup.js-authenticate-admin-setup\video.webm]]

[[ATTACHMENT|global.setup.js-authenticate-admin-setup\error-context.md]]

[[ATTACHMENT|global.setup.js-authenticate-admin-setup\trace.zip]]
🔧 Configurando autenticação de administrador...

[[ATTACHMENT|global.setup.js-authenticate-admin-setup-retry1\test-failed-1.png]]

[[ATTACHMENT|global.setup.js-authenticate-admin-setup-retry1\video.webm]]

[[ATTACHMENT|global.setup.js-authenticate-admin-setup-retry1\error-context.md]]

[[ATTACHMENT|global.setup.js-authenticate-admin-setup-retry1\trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="create api token" classname="global.setup.js" time="0.705">
<system-out>
<![CDATA[🔑 Criando token de API...
]]>
</system-out>
</testcase>
<testcase name="create test data" classname="global.setup.js" time="0.035">
<system-out>
<![CDATA[📊 Criando dados de teste...
✅ Dados de teste gerados e salvos
]]>
</system-out>
</testcase>
<testcase name="health check" classname="global.setup.js" time="2.187">
<failure message="global.setup.js:164:6 health check" type="FAILURE">
<![CDATA[  [setup] › global.setup.js:164:6 › health check ───────────────────────────────────────────────────

    Error: expect(received).toBeTruthy()

    Received: false

      172 |     // Verifica API básica
      173 |     const apiResponse = await request.get('/api');
    > 174 |     expect(apiResponse.ok()).toBeTruthy();
          |                              ^
      175 |     
      176 |     console.log('✅ Aplicação está saudável');
      177 |   } catch (error) {
        at C:\Users\Jhayne\OneDrive\Área de Trabalho\devopsex\N3Devops\devops-unisatc-a3\tests\global.setup.js:174:30

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    test-results\global.setup.js-health-check-setup\trace.zip
    Usage:

        npx playwright show-trace test-results\global.setup.js-health-check-setup\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────

    Retry #1 ───────────────────────────────────────────────────────────────────────────────────────

    Error: expect(received).toBeTruthy()

    Received: false

      172 |     // Verifica API básica
      173 |     const apiResponse = await request.get('/api');
    > 174 |     expect(apiResponse.ok()).toBeTruthy();
          |                              ^
      175 |     
      176 |     console.log('✅ Aplicação está saudável');
      177 |   } catch (error) {
        at C:\Users\Jhayne\OneDrive\Área de Trabalho\devopsex\N3Devops\devops-unisatc-a3\tests\global.setup.js:174:30

    attachment #1: trace (application/zip) ─────────────────────────────────────────────────────────
    test-results\global.setup.js-health-check-setup-retry1\trace.zip
    Usage:

        npx playwright show-trace test-results\global.setup.js-health-check-setup-retry1\trace.zip

    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[🏥 Verificando saúde da aplicação...
❌ Erro na verificação de saúde: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeTruthy[2m()[22m

Received: [31mfalse[39m

[[ATTACHMENT|global.setup.js-health-check-setup\trace.zip]]
🏥 Verificando saúde da aplicação...
❌ Erro na verificação de saúde: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeTruthy[2m()[22m

Received: [31mfalse[39m

[[ATTACHMENT|global.setup.js-health-check-setup-retry1\trace.zip]]
]]>
</system-out>
</testcase>
<testcase name="create directories" classname="global.setup.js" time="0.011">
<system-out>
<![CDATA[📁 Criando diretórios necessários...
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>